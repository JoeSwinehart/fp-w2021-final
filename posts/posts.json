[
  {
    "path": "posts/data-cleaning-with-purrr/",
    "title": "Data cleaning with {purrr}",
    "description": "A tutorial on using {purrr} for data cleaning.",
    "author": [
      {
        "name": "Lea Frank",
        "url": {}
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\n\nContents\nAbout the data\nBatch LoadingDemographics data\n\n\nAbout the data\nThe data for this blog is taken from the National Health and Nutrition Examination Survey (NHANES). Each year, the survey collects information on the health and nutritional status of children and adults across the United States. For this blog, survey data was taken from the years 1999 - 2016. The data was narrowed down to the following variables of interest:\n\nVariable Code\nDescription\nSEQN\nRespondent ID\nRIDAGEYR\nAge in years at screening\nRIAGENDR\nGender\nRIDRETH1\nRace/Hispanic origin\nDMDEDUC2\nEducation level (adults 20+)\nDMDEDUC3\nEducation level (children/youth 6-19)\nHHFDSEC\nHousehold food security category over last 12 months (1999-2002)\nFSDHH\nHousehold food security category over last 12 months (2003+)\n\nBatch Loading\nThe dir_ls function from the fs package creates\n\n\nrootpath <- here::here(\"data\")\nfnames <- fs::dir_ls(rootpath)\n\n\n\nDemographics data\n\n\ndemos <- dir_ls(rootpath, \n                 regexp = \"DEMO\") %>% \n  map_dfr(rio::import, .id = \"file\") %>% \n  mutate(year = str_extract(file, \"\\\\d{4}-\\\\d{4}\")) %>% \n  select(year, SEQN, RIDAGEYR, RIAGENDR, \n         RIDRETH1, DMDEDUC2, DMDEDUC3)\nnames(demos) <- c(\"year\", \"id\",\"age\",\"gender\",\n                  \"race_ethnic\",\"educ_adult\",\"educ_child\") \n\nfsq <- dir_ls(rootpath, \n                 regexp = \"FSQ\") %>% \n  map_dfr(rio::import, .id = \"file\") %>% \n  mutate(year = str_extract(file, \"\\\\d{4}-\\\\d{4}\"),\n         hh_food_secure = ifelse(year == \"1999-2000\" | year == \"2001-2002\", \n                                 HHFDSEC, FSDHH)) %>% \n  select(year, SEQN, hh_food_secure)\nnames(fsq)[2] <- \"id\"\n\n\n\n\n\ndf <- left_join(demos, fsq)\nhead(df)\n\n\n       year id age gender race_ethnic educ_adult educ_child\n1 1999-2000  1   2      2           4         NA         NA\n2 1999-2000  2  77      1           3          5         NA\n3 1999-2000  3  10      2           3         NA          3\n4 1999-2000  4   1      1           4         NA         NA\n5 1999-2000  5  49      1           3          5         NA\n6 1999-2000  6  19      2           5         NA         15\n  hh_food_secure\n1              1\n2              1\n3              1\n4              4\n5              1\n6              1\n\n\n\nwrite_csv(df, str_c(rootpath,\"/nhanes_1999-2016.csv\"))\n\n\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-18T11:34:54-07:00",
    "input_file": "data-cleaning-with-purrr.knit.md"
  },
  {
    "path": "posts/looping/",
    "title": "Looping",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Meg Siritzky",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  },
  {
    "path": "posts/parallel-iteration/",
    "title": "Parallel Iteration",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Lea Frank",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  },
  {
    "path": "posts/writing-functions/",
    "title": "Writing Functions",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Sarah Dimakis",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  }
]
