[
  {
    "path": "posts/data-cleaning-with-purrr/",
    "title": "Data cleaning with {purrr}",
    "description": "A tutorial on using {purrr} for data cleaning.",
    "author": [
      {
        "name": "Lea Frank",
        "url": {}
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\n\nContents\nBatch LoadingDemographics data\n\n\nBatch Loading\n\n\nrootpath <- here::here(\"data\")\n\n\n\n\n\ndir_ls(rootpath,\n       regexp = \"DEMO\")\n\n\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_1999-2000.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2001-2002.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2003-2004.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2005-2006.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2007-2008.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2009-2010.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2011-2012.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2013-2014.XPT\n/Users/leafrank/Documents/fp-w2021-final/data/DEMO_2015-2016.XPT\n\nDemographics data\n\n\ndemos <- dir_ls(rootpath, \n                 regexp = \"DEMO\") %>% \n  map_dfr(rio::import, .id = \"file\") %>% \n  mutate(year = str_extract(file, \"\\\\d{4}-\\\\d{4}\")) %>% \n  select(year, SEQN, RIDAGEYR, RIAGENDR, \n         RIDRETH1, DMDEDUC2, DMDEDUC3)\nnames(demos) <- c(\"year\", \"id\",\"age\",\"gender\",\n                  \"race_ethnic\",\"educ_adult\",\"educ_child\") \n\nfsq <- dir_ls(rootpath, \n                 regexp = \"FSQ\") %>% \n  map_dfr(rio::import, .id = \"file\") %>% \n  mutate(year = str_extract(file, \"\\\\d{4}-\\\\d{4}\"),\n         hh_food_secure = ifelse(year == \"1999-2000\" | year == \"2001-2002\", \n                                 HHFDSEC, FSDHH)) %>% \n  select(year, SEQN, hh_food_secure)\nnames(fsq)[2] <- \"id\"\n\n\n\n\n\ndf <- left_join(demos, fsq)\nhead(df)\n\n\n       year id age gender race_ethnic educ_adult educ_child\n1 1999-2000  1   2      2           4         NA         NA\n2 1999-2000  2  77      1           3          5         NA\n3 1999-2000  3  10      2           3         NA          3\n4 1999-2000  4   1      1           4         NA         NA\n5 1999-2000  5  49      1           3          5         NA\n6 1999-2000  6  19      2           5         NA         15\n  hh_food_secure\n1              1\n2              1\n3              1\n4              4\n5              1\n6              1\n\n\n\nwrite_csv(df, str_c(rootpath,\"/nhanes_1999-2016.csv\"))\n\n\n\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-17T16:46:55-07:00",
    "input_file": {}
  },
  {
    "path": "posts/looping/",
    "title": "Looping",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Meg Siritzky",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  },
  {
    "path": "posts/parallel-iteration/",
    "title": "Parallel Iteration",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Lea Frank",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  },
  {
    "path": "posts/writing-functions/",
    "title": "Writing Functions",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Sarah Dimakis",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2021-05-13",
    "categories": [],
    "contents": "\nDistill is a publication format for scientific and technical writing, native to the web.\nLearn more about using Distill at https://rstudio.github.io/distill.\n\n\n\n",
    "preview": {},
    "last_modified": "2021-05-14T14:50:36-07:00",
    "input_file": {}
  }
]
