create_post("Looping")
library(distill)
create_post("Looping")
create_post("Parallel Iteration")
create_post("Data Cleaning and Purrr or Shiny")
create_post("Writing Functions")
library(rmarkdown)
render_site()
file.create(".nojekyll")
Sarah Dimakis
library(tidyverse)
fs::dir_ls(here("here"))
fs::dir_ls(here::here("here"))
fs::dir_ls(here::here("date"))
fs::dir_ls(here::here("date"), type = "directory")
fs::dir_ls(here::here("data"), type = "directory")
fnames <- fs::dir_ls(here::here("data"), type = "directory")
fnames
fnames
fs::dir_ls(here::here("data"), type = "directory")
fnames <- fs::dir_ls(here::here("data"), type = "directory")
fnames
fpaths <- fs::dir_ls(here::here("data"), type = "directory")
str(fpaths)
?fs::dir_ls
qpaths <- fs::dir_ls(here::here("data", "questionnaire"), recurse = TRUE, glob = "*.csv")
qpaths <- fs::dir_ls(here::here("data"), recurse = TRUE, glob = "questionnaire.csv")
qpaths
qpaths <- fs::dir_ls(here::here("data"), recurse = TRUE)
qpaths
qpaths <- fs::dir_ls(here::here("data"),
recurse = TRUE,
regexp = "questionnaire.csv")
qpaths
dpaths <- fs::dir_ls(here::here("data"),
recurse = TRUE,
regexp = "demographic.csv")
demos <- map_df(qpaths, rio::import, .id = "fname")
View(demos)
parse_numer(demos$fname[1])
parse_number(demos$fname[1])
demos$fname[1]
parse_number(demos$fname[1])
?separate
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
separate(col = fname, sep = "/")
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
separate(col = fname, into = c(NA, NA, NA, NA, NA, "year", NA), sep = "/")
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
separate(col = fname, into = c(NA, NA, NA, NA, NA, NA, "year", NA), sep = "/")
View(demos)
?parse_number
demos <- map_df(qpaths, rio::import, .id = "fname")
aa <- demos$fname[1]
aa
parse_numer(aa)
parse_number(aa)
extract_numeric(aa)
aa
parse_number(aa)
parse_number(aa)
gsub("([0-9]+).*$", "\\1", aa)
?gsub
grep("([0-9]+).*$", "\\1", aa)
str_extract(aa, pattern = [:digit:])
str_extract(aa, pattern = ":digit:")
str_extract(aa, pattern = "[:digit:]")
?str_extract
str_extract(aa, pattern = "[[:digit:]]")
str_extract_all(aa, pattern = "[[:digit:]]")
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
separate(col = fname,
into = c(NA, NA, NA, NA, NA, NA,"year", NA),
sep = "/")
View(demos)
str_extract(aa, pattern = "\\d\\d\\d\\d_\\d\\d\\d\\d")
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d\\d\\d\\d_\\d\\d\\d\\d"))
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d\\d\\d\\d_\\d\\d\\d\\d")) %>%
select(-filename, year, everything())
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d\\d\\d\\d_\\d\\d\\d\\d")) %>%
select(-fname) %>%
nest_by(year)
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d\\d\\d\\d")) %>%
select(-fname) %>%
nest_by(year)
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(-fname) %>%
nest_by(year)
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(-fname, year)
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(-fname, year) %>%
nest_by(year)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(-fname, year, everything())
View(demos)
demos <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(year, everything(), -fname)
View(demos)
quests <- map_df(demos, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(year, everything(), -fname)
demos <- map_df(dpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(year, everything(), -fname)
View(demos)
quests <- map_df(qpaths, rio::import, .id = "fname") %>%
mutate(year = str_extract(fname, pattern = "\\d{4}_\\d{4}")) %>%
select(year, everything(), -fname)
df <- left_join(demos, quests)
df <- left_join(demos, quests) %>%
nest_by(year)
df
aa <- df$year[[1]]
bb <- df$data[[1]]
?pivot_longer
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days")
library(ggridges)
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days") %>%
ggplot(aes(x = num_days, y = exercise_type, color = exercise_type)) +
geom_density_ridges()
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days") %>%
ggplot(aes(x = num_days, y = exercise_type, color = exercise_type)) +
geom_density_ridges()
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days") %>%
ggplot(aes(x = num_days, y = exercise_type, color = exercise_type)) +
geom_density_ridges()
bb <- bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days") %>%
ggplot(aes(x = num_days, y = exercise_type, color = exercise_type)) +
geom_density_ridges()
levels(bb$exercise_type)
levels(factor(bb$exercise_type))
bb <- bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days")
bb <- df$data[[1]]
bb <- bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days")
levels(factor(bb$exercise_type))
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days")
bb <- df$data[[1]]
bb %>%
pivot_longer(cols = c(PAQ677, PAQ678),
names_to = "exercise_type",
values_to = "num_days") %>%
ggplot(aes(x = num_days, y = exercise_type, color = exercise_type)) +
geom_density_ridges()
